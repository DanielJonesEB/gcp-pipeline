---
resource_types:
- name: terraform
  type: docker-image
  source:
    repository: ljfranklin/terraform-resource
    tag: latest

resources:
- name: git
  type: git
  source:
    uri: https://github.com/DanielJonesEB/gcp-pipeline.git
    branch: master

jobs:
- name: setup-ci
  plan:
  - get: git
    trigger: true
  - task: bootstrap-terraform
    file: git/tasks/bootstrap.yml
    params:
      TF_VAR_creds_json: {{gcp_credentials_json}}
      TF_VAR_project_id: {{project_id}}
